!function(e){function t(t){for(var n,u,o=t[0],l=t[1],c=t[2],f=0,d=[];f<o.length;f++)u=o[f],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&d.push(a[u][0]),a[u]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={0:0},i=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var s=l;i.push([19,1]),r()}([,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useForceUpdate=t.timeString=t.uniqueKeys=t.config=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.debounce=function(e,t){var r;return function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];var u=this;clearTimeout(r),r=setTimeout((function(t){return e.apply(u,t)}),t,a)}};var a=r(0);t.config=r(32);t.uniqueKeys=function(e){return Array.from(new Set(e))},t.timeString=function(e){return[e.getDate(),e.getMonth()+1].map((function(e){return(e+"").padStart(2,0)})).join(".")+"."+e.getFullYear()+" "+[e.getHours(),e.getMinutes()].map((function(e){return(e+"").padStart(2,0)})).join(":")},t.useForceUpdate=function(){var e=(0,a.useState)(0),t=n(e,2),r=(t[0],t[1]);return function(){return r(Math.random())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36);Object.defineProperty(t,"Weather",{enumerable:!0,get:function(){return n.Weather}}),Object.defineProperty(t,"Forecast",{enumerable:!0,get:function(){return n.Forecast}});var a=r(39);Object.defineProperty(t,"UserLocation",{enumerable:!0,get:function(){return a.UserLocation}});var i=r(42);Object.defineProperty(t,"Icon",{enumerable:!0,get:function(){return i.Icon}});var u=r(43);Object.defineProperty(t,"UnitSelector",{enumerable:!0,get:function(){return u.UnitSelector}});var o=r(45);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return o.Search}});var l=r(47);Object.defineProperty(t,"CitySearch",{enumerable:!0,get:function(){return l.CitySearch}});var c=r(50);Object.defineProperty(t,"Notes",{enumerable:!0,get:function(){return c.Notes}});var s=r(52);Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return s.Time}});var f=r(53);Object.defineProperty(t,"AFavouritesManager",{enumerable:!0,get:function(){return f.AFavouritesManager}})},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWeatherUpdater=t.useWeather=t.updateWeatherInfo=t.useNoteDisk=t.useUserDisk=t.useWeatherDisk=t.useDisk=t.weatherDisk=t.cityDisk=t.Disk=t.Service=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=r(33),i=r(34),u=r(5),o=r(0);t.Service=i.Service;var l=t.Disk=(0,a.Disk)(),c=(t.cityDisk=(0,a.Disk)({namespace:u.config.namespaces.city}),t.weatherDisk=(0,a.Disk)({namespace:u.config.namespaces.weather})),s=(t.useDisk=(0,a.useDisk)(l),t.useWeatherDisk=(0,a.useDisk)(c)),f=(t.useUserDisk=(0,a.useDisk)((0,a.Disk)({namespace:u.config.namespaces.user})),t.useNoteDisk=(0,a.useDisk)((0,a.Disk)({namespace:u.config.namespaces.notes})),t.updateWeatherInfo=function(e){return i.Service.weatherInfo(e).then((function(t){return c[e]=t}))});t.useWeather=function(e){var t=s(e),r=n(t,2),a=r[0],u=r[1],l=function(){return i.Service.weatherInfo(e).then(u)};return(0,o.useEffect)((function(){c[e]||l()}),[e]),[a,l]},t.useWeatherUpdater=function(){return(0,o.useEffect)((function(){var e=setInterval((function(){l.visibleCities.forEach((function(e){return navigator.onLine&&f(e)}))}),1e3*(u.config.updateWeatherIntervalSecs||60));return function(){clearInterval(e)}}),[])}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Main=t.navigate=t.navigateTo=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},u=r(62),o=r(4),l=r(30),c=r(6),s=r(5),f=r(8);r(61);var d=(0,o.createBrowserHistory)(),m=t.navigateTo=function(e){return function(){d.push("/"+e)}};t.navigate=function(e){d.push("/"+e)},t.Main=function(){return(0,f.useWeatherUpdater)(),i.default.createElement(u.Router,{history:d},i.default.createElement("div",{className:"Header"},i.default.createElement("div",{className:"appName",onClick:m("")},s.config.appName),i.default.createElement(c.CitySearch,null)),i.default.createElement("div",{className:"Page"},i.default.createElement(u.Switch,null,i.default.createElement(u.Route,{exact:!0,path:"/",component:l.Home}),i.default.createElement(u.Route,{path:"/:city",component:function(e){var t=e.match.params;return i.default.createElement(l.CityDetails,t)}}))))}},,,,,,function(e,t,r){},,function(e,t,r){"use strict";var n=r(0),a=r(21),i=r(11);(0,a.render)((0,n.createElement)(i.Main),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(e){console.log("SW registered: ",e)})).catch((function(e){console.log("SW registration failed: ",e)}))}))},,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31);Object.defineProperty(t,"Home",{enumerable:!0,get:function(){return n.Home}});var a=r(59);Object.defineProperty(t,"CityDetails",{enumerable:!0,get:function(){return a.CityDetails}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Home=void 0;var n,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=r(0),u=(n=i)&&n.__esModule?n:{default:n},o=r(5),l=r(8),c=r(6),s=r(55);function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}r(58);t.Home=function(){var e=(0,c.AFavouritesManager)("cities"),t=(0,l.useDisk)("cityList",o.config.initialCities),r=a(t,2),n=r[0],i=r[1];l.Disk.visibleCities=(0,o.uniqueKeys)([].concat(f(n),f(e.list)));var d=function(e){return function(t){t.stopPropagation(),i(n.filter((function(t){return t!=e})))}};return u.default.createElement("div",{className:"Home"},!!e.list.length&&u.default.createElement("div",{className:"Favourites"},u.default.createElement("h2",null," Favourites "),e.list.sort().map((function(t){return u.default.createElement(s.City,{key:t,name:t,icon:e.icon[t]})}))),u.default.createElement("div",{className:"InitialCities"},n.filter((function(t){return e.list.indexOf(t)<0})).sort().map((function(e){return u.default.createElement(s.City,{key:e,name:e,icon:u.default.createElement(c.Icon,{icon:"times",className:"remove",onClick:d(e)})})}))))}},function(e){e.exports=JSON.parse('{"appName":"The Weather App","accuweather":{"apiKey":"03uWuDpMHBaO3kYbYchzaqtO8qi4ARP6","baseUrl":"http://dataservice.accuweather.com/"},"updateWeatherIntervalMS":300000,"weatherstack":{"apiKey":"4624324f5cefbc4af77fd063568bf94d","baseUrl":"https://api.weatherstack.com/"},"initialCities":["Chongqing","Shanghai","Beijing","Delhi","Chengdu","Tianjin","Istanbul","Karachi","Guangzhou","Tokyo","Moscow","Shenzhen","Mumbai","SÃ£o Paulo","Kinshasa"],"namespaces":{"notes":"notes","favourites":"favourites","weather":"weather","user":"user","city":"city"}}')},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Service=void 0;var n=r(35),a=r(8),i=t.Service={searchCity:function(e){return(0,n.weatherStackRequest)("autocomplete",{query:e}).then((function(e){return e.results.map((function(e){return e.name})).sort()}))},weatherInfo:function(e){return(0,n.weatherStackRequest)("current",{query:e}).then((function(t){var r=t.current,n=t.location,i=n.country,u=n.region,o=n.localtime_epoch;return a.cityDisk[e]={region:u,country:i,timediff:o-Math.round(Date.now()/1e3)+60*(new Date).getTimezoneOffset()},r}))}};window.Serv=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.weatherStackRequest=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(5),i=function(e){return fetch(e).then((function(e){return e.json()}))},u=function(e){return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t].toString())})).join("&")};t.weatherStackRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(a.config.weatherstack.baseUrl+e+"?"+u(n({access_key:a.config.weatherstack.apiKey},t)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(37);Object.defineProperty(t,"Weather",{enumerable:!0,get:function(){return n.Weather}});var a=r(38);Object.defineProperty(t,"Forecast",{enumerable:!0,get:function(){return a.Forecast}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Weather=void 0;var n=i(r(0)),a=(i(r(7)),r(6));function i(e){return e&&e.__esModule?e:{default:e}}r(17);t.Weather=function(e){var t=e.data,r=t||{},i=r.wind_speed,u=r.temperature,o=r.precip,l=r.humidity,c=r.wind_degree,s=r.pressure,f=r.visibility,d=r.weather_descriptions,m=r.weather_icons,v=m?m[0]:null,y=d?d[0]:null;console.log(t);return n.default.createElement("div",{className:"Weather"},n.default.createElement("h2",null," Current Weather "),n.default.createElement("div",{className:"description"}," ",n.default.createElement("img",{src:v,alt:y})," ",n.default.createElement("a",null,y)),n.default.createElement("div",{className:"Cards"},n.default.createElement("div",{className:"temp Card"},n.default.createElement("h3",null,n.default.createElement(a.Icon,{icon:"thermometer-three-quarters"})," Temperature "),n.default.createElement("div",{className:"value"}," ",n.default.createElement("b",null,Math.round(u||0)),"Â°C ")),n.default.createElement("div",{className:"wind Card"},n.default.createElement("h3",null,n.default.createElement(a.Icon,{icon:"wind"}),n.default.createElement("div",{className:"arrow",style:{transform:"rotate("+(i&&c||0)+"deg)"}})," Wind "),n.default.createElement("div",{className:"value"},n.default.createElement("b",null,i||0)," m/s")),n.default.createElement("div",{className:"humidity Card"},n.default.createElement("h3",null,n.default.createElement(a.Icon,{icon:"tint"})," Humidity"),n.default.createElement("div",{className:"value"}," ",n.default.createElement("b",null,"%",l||0))),n.default.createElement("div",{className:"pressure Card"},n.default.createElement("h3",null,n.default.createElement(a.Icon,{icon:"tachometer-alt"})," Pressure "),n.default.createElement("div",{className:"value"}," ",n.default.createElement("b",null,s||0)," hPa ")),n.default.createElement("div",{className:"visibility Card"},n.default.createElement("h3",null,n.default.createElement(a.Icon,{icon:"eye"})," Visibility "),n.default.createElement("div",{className:"value"}," ",n.default.createElement("b",null,"%",f||0)," ")),n.default.createElement("div",{className:"precip Card"},n.default.createElement("h3",null,n.default.createElement(a.Icon,{icon:"umbrella"})," Precipitation "),n.default.createElement("div",{className:"value"}," ",n.default.createElement("b",null,"%",o||0)," "))))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Forecast=void 0;var n=a(r(0));a(r(7));function a(e){return e&&e.__esModule?e:{default:e}}r(17);t.Forecast=function(e){var t=e.city;useDisk("forecast/"+t);return n.default.createElement("div",{className:"Forecast"},n.default.createElement("div",{className:"temp Card"},n.default.createElement("h6",null,n.default.createElement("i",{className:"fa fa-thermometer-three-quarters"})," Temp "),n.default.createElement("div",{className:"value"}," ",n.default.createElement("b",null,Math.round(temp||0)),"Â°C ")),n.default.createElement("div",{className:"wind Card"},n.default.createElement("h6",null,n.default.createElement("i",{className:"fa fa-wind"}),n.default.createElement("div",{className:"arrow",style:{transform:"rotate("+(wind&&wind.deg||0)+"deg)"}})," Wind "),n.default.createElement("div",{className:"value"},n.default.createElement("b",null,wind&&wind.speed||0)," m/s")),n.default.createElement("div",{className:"humidity Card"},n.default.createElement("h6",null,n.default.createElement("i",{className:"fa fa-tint"})," Humidity"),n.default.createElement("div",{className:"value"}," ",n.default.createElement("b",null,"%",humidity||0))),n.default.createElement("div",{className:"pressure Card"},n.default.createElement("h6",null,n.default.createElement("i",{className:"fa fa-tachometer-alt"})," Pressure "),n.default.createElement("div",{className:"value"}," ",n.default.createElement("b",null,pressure||0)," hPa ")))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserLocation=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=r(0),i=c(a),u=r(40),o=c(r(7)),l=r(6);function c(e){return e&&e.__esModule?e:{default:e}}r(41);t.UserLocation=function(e){var t=e.onLocation,r=(0,a.useState)({loading:!1,error:!1}),c=n(r,2),s=c[0],f=s.loading,d=s.error,m=c[1];return i.default.createElement(l.Icon,{icon:"compass",className:(0,o.default)("UserLocation",{loading:f,error:d}),onClick:function(){m(!0),console.log(1),u.GeoLocation.request().then((function(e){t(e),console.log(2),m({loading:!1,error:!1})})).catch((function(){m({loading:!1,error:!0})}))},disabled:!u.GeoLocation.isAvailable})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.GeoLocation={isAvailable:navigator.geolocation,request:function(){return new Promise((function(e,t){n.isAvailable?navigator.geolocation.getCurrentPosition((function(t){var r=t.coords,n=r.latitude,a=r.longitude;return e({lat:n,lng:a})}),(function(e){switch(e.code){case e.PERMISSION_DENIED:t("You should give permission to us to get your location.");break;case e.POSITION_UNAVAILABLE:t("Unfortunatelly, location information is unavailable.");break;case e.TIMEOUT:t("Unfortunatelly, location request timed out.");break;case e.UNKNOWN_ERROR:t("An unknown error occurred while getting your location.")}})):t("Location is not supported")}))}}},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;var n=i(r(0)),a=i(r(7));function i(e){return e&&e.__esModule?e:{default:e}}t.Icon=function(e){var t=e.icon,r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["icon"]);return r.className=(0,a.default)("fa fa-"+t,r.className),n.default.createElement("i",r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnitSelector=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=l(r(0)),i=l(r(7)),u=r(5),o=r(12);function l(e){return e&&e.__esModule?e:{default:e}}r(44);t.UnitSelector=function(){var e=(0,o.useDisk)("preference/unit",u.config.defaultUnitPreference),t=n(e,2),r=t[0],l=t[1],c={Metric:"Â°C",Imperial:"Â°F"};return a.default.createElement("div",{className:"UnitSelector"},Object.keys(c).map((function(e){return a.default.createElement("a",{tabIndex:1,title:"Switch to "+e+" System",className:(0,i.default)({selected:r===e}),onClick:(t=e,function(){return l(t)})},c[e]);var t})))}},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=r(0),i=c(a),u=c(r(7)),o=r(6),l=r(5);function c(e){return e&&e.__esModule?e:{default:e}}r(46);t.Search=(0,a.forwardRef)((function(e,t){var r=e.className,c=e.disabled,s=e.placeholder,f=e.search,d=e.renderer,m=e.children,v=e.onSelect,y=(0,a.useState)([]),h=n(y,2),p=h[0],b=h[1],g=(0,a.useState)(""),E=n(g,2),w=E[0],_=E[1],S=(0,a.useState)(),N=n(S,2),O=N[0],k=N[1],j=(0,a.useState)(!1),C=n(j,2),M=C[0],P=C[1],I=(0,l.debounce)((function(e){return f(e).then((function(e){return M&&b(e)})).catch(k)}),200),A=function(){""!==w&&_(""),b([]),T()};t.current={clear:A};var D=function(e){return function(){A(),v(e)}},T=function(){return P(!1)};return i.default.createElement(a.Fragment,null,i.default.createElement("div",{className:(0,u.default)("backdrop",{on:M}),onClick:A}),i.default.createElement("div",{className:"SearchContainer"},i.default.createElement("div",{className:(0,u.default)(r,"Search",{disabled:c,error:O,on:M})},i.default.createElement("div",{className:"Input"},i.default.createElement(o.Icon,{icon:"search"}),i.default.createElement("input",{autoComplete:"off",spellCheck:"false",type:"text",placeholder:s,value:w,onChange:function(e){e.nativeEvent.keyCode;var t=e.target.value;""===t?b([]):t.trim().length>2&&I(t.trim()),w!==t&&_(t)},onKeyUp:function(e){var t=e.nativeEvent.keyCode,r=e.target;if(27===t)return A(),void r.blur();13===t&&p.length&&D(p[0])()},onFocus:function(){return P(!0)},tabIndex:1}),m),i.default.createElement("div",{className:(0,u.default)("Results",{hasResult:p.length})},p.map((function(e,t){return i.default.createElement("div",{key:t,className:"Result",tabIndex:1,onClick:D(e)},d(e))}))))))}))},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CitySearch=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=r(0),i=s(a),u=(s(r(7)),s(r(48))),o=r(6),l=r(8),c=r(11);function s(e){return e&&e.__esModule?e:{default:e}}r(49);t.CitySearch=function(){var e=(0,u.default)(),t=(0,o.AFavouritesManager)("cities"),r=(0,l.useUserDisk)("city"),s=n(r,2),f=s[0],d=s[1],m=(0,a.useRef)();return i.default.createElement(o.Search,{ref:m,renderer:function(e){return i.default.createElement(a.Fragment,null,t.icon[e],e)},placeholder:e?"Search cities...":"No internet connection. Go online to search cities...",search:l.Service.searchCity,onSelect:c.navigate,disabled:!e},f&&i.default.createElement("a",{className:"userCity",tabIndex:1,onClick:function(){m.current&&m.current.clear(),(0,c.navigate)(f)}}," ",f),e&&i.default.createElement(o.UserLocation,{onLocation:function(e){var t=e.lat,r=e.lng;return l.Service.searchCity(t+","+r).then((function(e){d(e[0]),m.current&&m.current.clear(),e.length&&(0,c.navigate)(e[0])}))}}))}},,function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Notes=void 0;var n,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=r(0),u=(n=i)&&n.__esModule?n:{default:n},o=r(8);r(5);r(51);t.Notes=function(e){var t=e.item,r=(0,o.useNoteDisk)(t,""),n=a(r,2),i=n[0],l=n[1];return u.default.createElement("div",{className:"Notes Card"},u.default.createElement("h3",null," Notes "),u.default.createElement("textarea",{value:i||"",onChange:function(e){var t=e.target.value;return l(t)}}))}},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n},u=r(5),o=r(6);t.Time=function(e){var t=e.diff,r=(0,u.timeString)(new Date(Date.now()+1e3*t)).split(" ");return i.default.createElement("div",{className:"time"},i.default.createElement("a",{class:"date"},r[0])," ",r[1],i.default.createElement(o.Icon,{icon:"clock"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AFavouritesManager=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=c(r(0)),i=r(12),u=c(r(7)),o=r(6),l=r(5);function c(e){return e&&e.__esModule?e:{default:e}}r(54);t.AFavouritesManager=function(e){var t=(0,i.useDisk)([l.config.namespaces.favourites,e].join("/"),[]),r=n(t,2),c=r[0],s=r[1],f=function(e){return c.indexOf(e)>-1},d=function(e){return s([].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(c),[e]))},m=function(e){return function(t){t.stopPropagation(),f(e)?function(e){s(c.filter((function(t){return t!==e})))}(e):d(e)}};return{list:c,icon:new Proxy({},{get:function(e,t){return a.default.createElement(o.Icon,{icon:"star",className:(0,u.default)("Fav",{isFavourite:f(t)}),onClick:m(t)})}})}}},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(56);Object.defineProperty(t,"City",{enumerable:!0,get:function(){return n.City}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.City=void 0;var n,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=r(0),u=(n=i)&&n.__esModule?n:{default:n},o=(r(12),r(8));r(57);var l=r(11);t.City=function(e){var t=e.name,r=e.icon,n=(0,o.useWeather)(t),i=a(n,1)[0];return u.default.createElement("div",{className:"City",onClick:(0,l.navigateTo)(t)},u.default.createElement("h3",null," ",u.default.createElement("a",null,t)," ",r," "),i&&u.default.createElement("div",{className:"CityWeather"},u.default.createElement("div",{className:"icon",style:{backgroundImage:"url("+i.weather_icons[0]+")"}}),u.default.createElement("div",{className:"temperature"}," ",i.temperature," ")))}},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CityDetails=void 0;var n,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=r(0),u=(n=i)&&n.__esModule?n:{default:n},o=r(6),l=r(8);r(60);t.CityDetails=function(e){var t=e.city,r=(0,l.useWeather)(t),n=a(r,1)[0],i=l.cityDisk[t]||{},c=i.country,s=i.timediff,f=i.region;l.Disk.visibleCities=[t];var d=(0,o.AFavouritesManager)("cities");return u.default.createElement("div",{className:"CityDetails"},u.default.createElement("h1",null,u.default.createElement("a",null,t,"United States of America"===c?", "+f:""),c&&u.default.createElement("a",{className:"country"},"(",c,")"),s&&u.default.createElement(o.Time,{diff:s}),d.icon[t]),u.default.createElement(o.Weather,{data:n}),u.default.createElement(o.Notes,{item:t}))}},function(e,t,r){},function(e,t,r){}]);
//# sourceMappingURL=main.95ce3635cb275f20cd73.js.map